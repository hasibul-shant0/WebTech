<html>
    <head>

        <script>
            function handleValidation(){
                const NameInput = document.getElementById("name").value;
                if(NameInput == "" || !NameInput){
                    const NameErr = 
document.getElementById("nameErr");
                    NameErr.innerHTML = "Name cannot be empty";
                }else{
                    const NameErr = 
document.getElementById("nameErr");
                    NameErr.innerHTML = "";
                }

            }

            function handleArray(){
                const cars = ['Saab', 'Volvo', 'BMW'];
                cars.map((car,index) => {
                    console.log(index + ": " + car);
                });
            }
            let buttonCount = 0;
            function CreateButtons(){
                const button = document.createElement("button");
                button.innerHTML = "New Button "+(++buttonCount);
                const container = document.getElementById("buttonContainer");
                container.appendChild(button);
            }
            function CreateMultipleButtons(){
                const n = document.getElementById("numberOfButtons").value;
                const nType = typeof n;
                const numberOfButtons = parseInt(n);
                const container = document.getElementById("multipleButtonContainer");
                for(let i = 0; i < numberOfButtons; i++ ){
                    const button = document.createElement("button");
                    button.innerHTML = "Button "+(i+1);
                    container.appendChild(button);
                }
                
            }
            const data=[
                {name: 'Alice', age: 30, city: 'New York'},
                {name: 'Bob', age: 25, city: 'Los Angeles'},
                {name: 'Charlie', age: 35, city: 'Chicago'}
            ]

            function createDynamicTables(){
                const container = document.getElementById("dynamicTablesContainer");
                for(let t = 0; t < 3; t++){
                    const table = document.createElement("table");
                    table.style.border = "1px solid black";
                    const headerRow = document.createElement("tr");
                    const headers = ["Header 1", "Header 2", "Header 3"];
                    headers.forEach(headerText => {
                        const th = document.createElement("th");
                        th.innerHTML = headerText;
                        th.style.border = "1px solid red";
                        headerRow.appendChild(th);
                    });
                    table.appendChild(headerRow);

                    
                    data.map((d)=>{
                        const row = document.createElement("tr");
                        const nameTd = document.createElement("td");
                        nameTd.innerHTML = d.name;
                        nameTd.style.border = "1px solid green";
                        const ageTd = document.createElement("td");
                        ageTd.innerHTML = d.age;
                        ageTd.style.border = "1px solid green";
                        const cityTd = document.createElement("td");
                        cityTd.innerHTML = d.city;
                        cityTd.style.border = "1px solid green";
                        row.appendChild(nameTd);
                        row.appendChild(ageTd);
                        row.appendChild(cityTd);
                        table.appendChild(row);
                    })
                    
                    container.appendChild(table);
                    container.appendChild(document.createElement("br"));
                }
            }
            function previewImage(){
                const fileInput = document.querySelector('input[type="file"]');
                const file = fileInput.files[0];
                const reader = new FileReader();
                reader.onload = function(e){
                    const img = document.createElement("img");
                    img.src = e.target.result;
                    document.body.appendChild(img);
                }
                reader.readAsDataURL(file);
            }
        </script>
    </head>

    <body>
        <h1>
            Hello from Webtech section D
        </h1>

        <label>Name</label>
        <input type="text" id="name"/>
        <p id="nameErr" style="color:red;"></p>

        <button onclick="handleValidation()">Submit</button>

        <button onclick="handleArray()">Handle Array</button>

        <button onClick="CreateButtons()">Create Buttons</button>
        <div id="buttonContainer"></div>

        <input type="text" id="numberOfButtons"/>
        <button onClick="CreateMultipleButtons()">Create N Buttons</button>

        <div id="multipleButtonContainer"></div>

        <button onClick="createDynamicTables()">Create Dynamic Tables</button>
        <div id="dynamicTablesContainer"></div>

        <input type="file" />
        <button onClick="previewImage()">Preview Image</button>
        
    </body>
</html>